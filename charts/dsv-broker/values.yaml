---
# Default values for the Delina DevOps Secrets Vault (DSV) Secrets sidecar.

# -- replicate count
# @default - 1
replicaCount: 1

image:
  repository: dsv-k8s-controller
  pullPolicy: IfNotPresent
  # -- Overrides the image tag whose default is the chart appVersion.
  tag: latest

nameOverride: ""
fullnameOverride: ""

podAnnotations: {}

podSecurityContext:
  {}
  # fsGroup: 2000

securityContext:
  {}
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

service:
  brokergrpc:
    port: 80
    targetPort: 3000
  brokerauth:
    tcpport: 80
    tcptargetPort: 8080
    tlsport: 443
    tlstargetPort: 443

resources: {}
# limits:
#   cpu: 500m
#   memory: 512Mi
# requests:
#   cpu: 500m
#   memory: 512Mi

# NOTE: Edit the values in the .cache/ directory to change the default values
# NOTE: This should not contain actual auth/tenant details as it's versioned in git.
# NOTE: Run mage job:init to create copies and use the copies in the .cache to experiment.
# NOTE: If invoking without mage, use the cli to pass the args, not code in source controlled directory.
configmap:
  refreshTime: 5m
  dsvAPIURL: https://%s.secretsvaultcloud.com/v1
  tenant:
  clientID:
  clientSecret:
  logLevel: info
  authType: client_credentials

strategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 1
